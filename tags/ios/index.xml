<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>IOS on ç•ªèŒ„ğŸ…æ‚è´§é“º</title>
    <link>https://blog.tomatostore.top/tags/ios/</link>
    <description>Recent content in IOS on ç•ªèŒ„ğŸ…æ‚è´§é“º</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sat, 11 Nov 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.tomatostore.top/tags/ios/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>iOSå¼€å‘-åŠ è½½å…¶ä»–è¯­è¨€çš„Stringèµ„æº</title>
      <link>https://blog.tomatostore.top/posts/2023/11/ios-localized-string-in-diff-languages/</link>
      <pubDate>Sat, 11 Nov 2023 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tomatostore.top/posts/2023/11/ios-localized-string-in-diff-languages/</guid>
      <description>Load Settings.bundle in diff languages</description>
      <content:encoded><![CDATA[<p>åœ¨å¼€å‘iOSåº”ç”¨æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°éœ€è¦ä½¿ç”¨ä¸åŒè¯­è¨€çš„å­—ç¬¦ä¸²èµ„æºçš„æƒ…å†µã€‚æ¯”å¦‚ï¼Œå½“iOSçš„è¯­è¨€è®¾ç½®ä¸ºAï¼Œè€Œæˆ‘ä»¬çš„åº”ç”¨éœ€è¦ä½¿ç”¨è¯­è¨€Bã€‚
è¿™é‡Œæœ‰ä¸€ä¸ªè¯­éŸ³è®¡ç®—å™¨ï¼Œç”¨æˆ·å¯ä»¥åœ¨è®¡ç®—æ—¶é€‰æ‹©ä¸åŒçš„è¯­éŸ³æœ—è¯»è¯­è¨€ï¼Œè€Œæ— éœ€æ”¹å˜æ•´ä¸ªiOSçš„è¯­è¨€è®¾ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬çš„æ‰‹æœºè¯­è¨€è®¾ç½®ä¸ºè‹±è¯­ï¼Œä½†æˆ‘ä»¬å¸Œæœ›è®¡ç®—å™¨èƒ½ç”¨ä¸­æ–‡æœ—è¯»è®¡ç®—ç»“æœã€‚</p>
<a href="https://apps.apple.com/cn/app/id1501166219">
  <img src="/images/calculator-settings.jpg" align="center" style="width: 80%; height: 80%;"/>
</a>
<p>ä¸ºäº†å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨iOSçš„æœ¬åœ°åŒ–æœºåˆ¶ã€‚æœ‰ä¸¤ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>åŠ è½½ç›¸åº”è¯­è¨€çš„èµ„æºæ–‡ä»¶</strong></li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ç§è¯­è¨€åˆ›å»ºä¸€ä¸ªèµ„æºæ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ æˆ‘ä»¬çš„æœ¬åœ°åŒ–å­—ç¬¦ä¸²ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€ï¼Œä»ç›¸åº”çš„èµ„æºæ–‡ä»¶ä¸­åŠ è½½å­—ç¬¦ä¸²ã€‚</p>
<p>åœ¨Swiftä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å®ç°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">extension</span> <span class="nc">String</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">localized</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// TalkingNumCalUserDefaults.voiceLang has value like &#39;en-US&#39;, &#39;fr-FR&#39;, &#39;de-DE&#39; etc.</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="kd">let</span> <span class="nv">lang</span> <span class="p">=</span> <span class="n">Locale</span><span class="p">(</span><span class="n">identifier</span><span class="p">:</span> <span class="n">TalkingNumCalUserDefaults</span><span class="p">.</span><span class="n">voiceLang</span><span class="p">).</span><span class="n">languageCode</span> <span class="p">{</span> <span class="c1">// e.g. en, jp, zh ...</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="kd">let</span> <span class="nv">path</span> <span class="p">=</span> <span class="n">Bundle</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="n">path</span><span class="p">(</span><span class="n">forResource</span><span class="p">:</span> <span class="n">lang</span><span class="p">,</span> <span class="n">ofType</span><span class="p">:</span> <span class="s">&#34;lproj&#34;</span><span class="p">),</span> <span class="kd">let</span> <span class="nv">bundle</span> <span class="p">=</span> <span class="n">Bundle</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">path</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="kd">let</span> <span class="nv">string</span> <span class="p">=</span> <span class="n">bundle</span><span class="p">.</span><span class="n">localizedString</span><span class="p">(</span><span class="n">forKey</span><span class="p">:</span> <span class="kc">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">string</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">NSLocalizedString</span><span class="p">(</span><span class="kc">self</span><span class="p">,</span> <span class="n">comment</span><span class="p">:</span> <span class="s">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ªè§£å†³æ–¹æ¡ˆéœ€è¦æˆ‘ä»¬é¢„å…ˆå‡†å¤‡å¥½æ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„è¯­è¨€çš„èµ„æºæ–‡ä»¶ã€‚å½“ç”¨æˆ·é€‰æ‹©äº†ä¸€ç§è¯­è¨€åï¼Œæˆ‘ä»¬ä»å¯¹åº”çš„èµ„æºæ–‡ä»¶ä¸­åŠ è½½å­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„èµ„æºæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±è¿”å›ä¸€ä¸ªæœªæœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ã€‚</p>
<ol start="2">
<li><strong>è®¾ç½®Bundleçš„è¯­è¨€</strong></li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€è®¾ç½®Bundleçš„è¯­è¨€ï¼Œç„¶åç›´æ¥ä»Bundleä¸­è·å–æœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ã€‚</p>
<p>åœ¨Swiftä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å®ç°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">extension</span> <span class="nc">String</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">localized</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// TalkingNumCalUserDefaults.voiceLang has value like &#39;en-US&#39;, &#39;fr-FR&#39;, &#39;de-DE&#39; etc.</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="kd">let</span> <span class="nv">lang</span> <span class="p">=</span> <span class="n">Locale</span><span class="p">(</span><span class="n">identifier</span><span class="p">:</span> <span class="n">TalkingNumCalUserDefaults</span><span class="p">.</span><span class="n">voiceLang</span><span class="p">).</span><span class="n">languageCode</span> <span class="p">{</span> <span class="c1">// e.g. en, jp, zh ...</span>
</span></span><span class="line"><span class="cl">            <span class="n">Bundle</span><span class="p">.</span><span class="n">setLanguage</span><span class="p">(</span><span class="n">lang</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">NSLocalizedString</span><span class="p">(</span><span class="kc">self</span><span class="p">,</span> <span class="n">tableName</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="n">bundle</span><span class="p">:</span> <span class="n">Bundle</span><span class="p">.</span><span class="n">main</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="n">comment</span><span class="p">:</span> <span class="s">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ªè§£å†³æ–¹æ¡ˆéœ€è¦æˆ‘ä»¬åœ¨æ¯æ¬¡ç”¨æˆ·é€‰æ‹©ä¸€ç§æ–°çš„è¯­è¨€æ—¶ï¼Œéƒ½é‡æ–°è®¾ç½®ä¸€æ¬¡Bundleçš„è¯­è¨€ã€‚ç„¶åï¼Œæˆ‘ä»¬ä»Bundleä¸­è·å–æœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°±è¿”å›ä¸€ä¸ªæœªæœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ã€‚</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>å¦‚ä½•ä» App Store Connect ä¸­åˆ é™¤ä¸€ä¸ªæœªå‘å¸ƒç‰ˆæœ¬</title>
      <link>https://blog.tomatostore.top/posts/2023/04/app-store-connect-rm-a-version/</link>
      <pubDate>Thu, 20 Apr 2023 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tomatostore.top/posts/2023/04/app-store-connect-rm-a-version/</guid>
      <description>è‹¹æœå•†åº—Connectæ— æ³•åˆ é™¤Appç‰ˆæœ¬</description>
      <content:encoded><![CDATA[<p>ä¸€ä¸ª iOS App æœ€æ–°å·²å‘å¸ƒç‰ˆæœ¬: <code>4.0</code>ï¼Œåœ¨ <code>App Store Connect</code> ä¸­æ·»åŠ äº†ä¸€ä¸ªç‰ˆæœ¬ <code>4.1</code>ï¼ŒçŠ¶æ€ä¸º <code>å‡†å¤‡æäº¤ï¼ˆPrepare for Submissionï¼‰</code> (æˆ–å…¶ä»–æœªå‘å¸ƒçŠ¶æ€)ã€‚</p>
<p>åæ¥æ”¹åŠ¨æœ‰ç‚¹å¤§ï¼Œæ‰“ç®—åšä¸ªå¤§ç‰ˆæœ¬å‡çº§â€”â€”æŠŠ<code>4.1</code> æ”¹ä¸º <code>5.0</code>ã€‚</p>
<p>æ²¡æœ‰æ‰¾åˆ°åˆ é™¤ <code>4.1</code> çš„æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å¦‚ä¸‹é€”å¾„æ›´æ”¹ç‰ˆæœ¬ä¸º <code>5.0</code>:</p>
<p>åœ¨ <code>version 4.1</code> æ„å»ºé¡µé¢çš„ ç‰ˆæœ¬ä¿¡æ¯ï¼ˆVersion Informationï¼‰ æ¨¡å—ä¸‹å°†ç‰ˆæœ¬ <code>4.1</code> ç›´æ¥æ”¹ä¸º <code>5.0</code>:</p>
<p><img loading="lazy" src="/images/v4.1.png" alt="v5.0"  /></p>
<p>ç‚¹å‡» ä¿å­˜ï¼ˆSaveï¼‰æŒ‰é’®ï¼Œç‰ˆæœ¬ <code>4.1</code> å°±å˜æˆ <code>5.0</code> å•¦ï¼š</p>
<p><img loading="lazy" src="/images/v5.0.png" alt="v5.0"  /></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Swift: beginAnimations(_:context:) was deprecated in iOS 13.0: Use the block-based animation API instead</title>
      <link>https://blog.tomatostore.top/posts/2023/04/swift-block-based-animation/</link>
      <pubDate>Sun, 02 Apr 2023 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tomatostore.top/posts/2023/04/swift-block-based-animation/</guid>
      <description>Swift / Objective-C block-based animation</description>
      <content:encoded><![CDATA[<p>ç”¨ <code>Xcode 14.2</code> å‡çº§ä¸€ä¸ª <code>Swift</code> é¡¹ç›®æ—¶æœ‰ç¼–è¯‘è­¦å‘Šï¸âš æç¤º <code>beginAnimations()</code> åœ¨ <code>iOS 13.0</code> åå·²ç»ä¸æ¨èä½¿ç”¨ï¼Œåº”è¯¥ç”¨ <code>block-based animation</code> ä»£æ›¿ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="hl"><span class="lnt">1
</span></span><span class="hl"><span class="lnt">2
</span></span><span class="hl"><span class="lnt">3
</span></span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line hl"><span class="cl"><span class="n">UIView</span><span class="p">.</span><span class="n">beginAnimations</span><span class="p">(</span><span class="kc">nil</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span> <span class="c1">// &#39;beginAnimations(_:context:)&#39; was deprecated in iOS 13.0: Use the block-based animation API instead</span>
</span></span><span class="line hl"><span class="cl"><span class="n">UIView</span><span class="p">.</span><span class="n">setAnimationDuration</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span> <span class="c1">// &#39;setAnimationDuration&#39; was deprecated in iOS 13.0: Use the block-based animation API instead</span>
</span></span><span class="line hl"><span class="cl"><span class="n">UIView</span><span class="p">.</span><span class="n">commitAnimations</span><span class="p">()</span> <span class="c1">// &#39;commitAnimations()&#39; was deprecated in iOS 13.0: Use the block-based animation API instead </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">currentOverlay</span> <span class="p">=</span> <span class="n">overlay</span>
</span></span><span class="line"><span class="cl"><span class="n">currentOverlayTarget</span> <span class="p">=</span> <span class="n">overlayTarget</span>
</span></span><span class="line"><span class="cl"><span class="n">currentLoadingText</span> <span class="p">=</span> <span class="n">loadingText</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p>ä¿®æ”¹ä¸ºä½¿ç”¨ <code>Block-based animation</code> çš„ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="n">UIView</span><span class="p">.</span><span class="n">animate</span><span class="p">(</span><span class="n">withDuration</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">currentOverlay</span> <span class="p">=</span> <span class="n">overlay</span>
</span></span><span class="line"><span class="cl">    <span class="n">currentOverlayTarget</span> <span class="p">=</span> <span class="n">overlayTarget</span>
</span></span><span class="line"><span class="cl">    <span class="n">currentLoadingText</span> <span class="p">=</span> <span class="n">loadingText</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœç”¨ <code>Objective-C</code> åˆ™ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-objc" data-lang="objc"><span class="line"><span class="cl"><span class="p">[</span><span class="n">UIView</span> <span class="nl">animateWithDuration</span><span class="p">:</span> <span class="mf">0.5</span>
</span></span><span class="line"><span class="cl">                 <span class="nl">animations</span><span class="p">:</span> <span class="o">^</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">currentOverlay</span> <span class="o">=</span> <span class="n">overlay</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">currentOverlayTarget</span> <span class="o">=</span> <span class="n">overlayTarget</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">currentLoadingText</span> <span class="o">=</span> <span class="n">loadingText</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}];</span>
</span></span></code></pre></td></tr></table>
</div>
</div>]]></content:encoded>
    </item>
    
  </channel>
</rss>
